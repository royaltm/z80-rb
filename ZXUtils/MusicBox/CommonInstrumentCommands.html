<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module ZXUtils::MusicBox::CommonInstrumentCommands - ruby-Z80</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-i-ce">#ce</a>
    <li ><a href="#method-i-ceo">#ceo</a>
    <li ><a href="#method-i-chord_off">#chord_off</a>
    <li ><a href="#method-i-disable_ay_volume_ctrl">#disable_ay_volume_ctrl</a>
    <li ><a href="#method-i-enable_ay_volume_ctrl">#enable_ay_volume_ctrl</a>
    <li ><a href="#method-i-envd">#envd</a>
    <li ><a href="#method-i-envdur">#envdur</a>
    <li ><a href="#method-i-envelope_duration">#envelope_duration</a>
    <li ><a href="#method-i-envelope_shape">#envelope_shape</a>
    <li ><a href="#method-i-envs">#envs</a>
    <li ><a href="#method-i-envsh">#envsh</a>
    <li ><a href="#method-i-fixed_volume">#fixed_volume</a>
    <li ><a href="#method-i-fv">#fv</a>
    <li ><a href="#method-i-loop_to">#loop_to</a>
    <li ><a href="#method-i-lt">#lt</a>
    <li ><a href="#method-i-m">#m</a>
    <li ><a href="#method-i-m1">#m1</a>
    <li ><a href="#method-i-m2">#m2</a>
    <li ><a href="#method-i-mark">#mark</a>
    <li ><a href="#method-i-mask_ay_volume_envelope">#mask_ay_volume_envelope</a>
    <li ><a href="#method-i-mask_ay_volume_envelope_off">#mask_ay_volume_envelope_off</a>
    <li ><a href="#method-i-mask_noise">#mask_noise</a>
    <li ><a href="#method-i-mask_noise_off">#mask_noise_off</a>
    <li ><a href="#method-i-mask_tone">#mask_tone</a>
    <li ><a href="#method-i-mask_tone_off">#mask_tone_off</a>
    <li ><a href="#method-i-me">#me</a>
    <li ><a href="#method-i-meo">#meo</a>
    <li ><a href="#method-i-mn">#mn</a>
    <li ><a href="#method-i-mno">#mno</a>
    <li ><a href="#method-i-mode1">#mode1</a>
    <li ><a href="#method-i-mode2">#mode2</a>
    <li ><a href="#method-i-mt">#mt</a>
    <li ><a href="#method-i-mto">#mto</a>
    <li ><a href="#method-i-n">#n</a>
    <li ><a href="#method-i-n0">#n0</a>
    <li ><a href="#method-i-n1">#n1</a>
    <li ><a href="#method-i-ne">#ne</a>
    <li ><a href="#method-i-neo">#neo</a>
    <li ><a href="#method-i-noise">#noise</a>
    <li ><a href="#method-i-noise_envelope_off">#noise_envelope_off</a>
    <li ><a href="#method-i-noise_off">#noise_off</a>
    <li ><a href="#method-i-noise_on">#noise_on</a>
    <li ><a href="#method-i-note_progress">#note_progress</a>
    <li ><a href="#method-i-np">#np</a>
    <li ><a href="#method-i-p">#p</a>
    <li ><a href="#method-i-pause">#pause</a>
    <li ><a href="#method-i-repeat">#repeat</a>
    <li ><a href="#method-i-rpt">#rpt</a>
    <li ><a href="#method-i-start_chord">#start_chord</a>
    <li ><a href="#method-i-start_noise_envelope">#start_noise_envelope</a>
    <li ><a href="#method-i-start_volume_envelope">#start_volume_envelope</a>
    <li ><a href="#method-i-t0">#t0</a>
    <li ><a href="#method-i-t1">#t1</a>
    <li ><a href="#method-i-tone_off">#tone_off</a>
    <li ><a href="#method-i-tone_on">#tone_on</a>
    <li ><a href="#method-i-tone_progress">#tone_progress</a>
    <li ><a href="#method-i-tp">#tp</a>
    <li ><a href="#method-i-v">#v</a>
    <li ><a href="#method-i-va">#va</a>
    <li ><a href="#method-i-variable_volume">#variable_volume</a>
    <li ><a href="#method-i-ve">#ve</a>
    <li ><a href="#method-i-veo">#veo</a>
    <li ><a href="#method-i-vg">#vg</a>
    <li ><a href="#method-i-vibrato_amplitude">#vibrato_amplitude</a>
    <li ><a href="#method-i-vibrato_angle">#vibrato_angle</a>
    <li ><a href="#method-i-vibrato_off">#vibrato_off</a>
    <li ><a href="#method-i-vibrato_step">#vibrato_step</a>
    <li ><a href="#method-i-vo">#vo</a>
    <li ><a href="#method-i-volume">#volume</a>
    <li ><a href="#method-i-volume_envelope_off">#volume_envelope_off</a>
    <li ><a href="#method-i-vs">#vs</a>
    <li ><a href="#method-i-vv">#vv</a>
    <li ><a href="#method-i-w">#w</a>
    <li ><a href="#method-i-wait">#wait</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-ZXUtils::MusicBox::CommonInstrumentCommands">
  <h1 id="module-ZXUtils::MusicBox::CommonInstrumentCommands" class="module">
    module ZXUtils::MusicBox::CommonInstrumentCommands
  </h1>

  <section class="description">
    
<h3 id="module-ZXUtils::MusicBox::CommonInstrumentCommands-label-MusicBox+CommonInstrumentCommands"><a href="../MusicBox.html"><code>MusicBox</code></a> <a href="CommonInstrumentCommands.html"><code>CommonInstrumentCommands</code></a><span><a href="#module-ZXUtils::MusicBox::CommonInstrumentCommands-label-MusicBox+CommonInstrumentCommands">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Common <a href="Instrument.html"><code>Instrument</code></a> and <a href="Track.html"><code>Track</code></a> commands.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">





     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-ce" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            ce name
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-start_chord">start_chord</a>
        </div>
      </div>

      <div id="method-i-ceo" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            ceo
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-chord_off">chord_off</a>
        </div>
      </div>

      <div id="method-i-chord_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            chord_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, a chord applied to the played note at the current channel.</p>

          <div class="method-source-code" id="chord_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">chord_off</span>
        <span class="ruby-identifier">start_chord</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-ceo">ceo</a>
        </div>

      </div>

      <div id="method-i-disable_ay_volume_ctrl" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            disable_ay_volume_ctrl
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off the AY-3-891x automatic volume envelope control of the current channel.</p>

          <div class="method-source-code" id="disable_ay_volume_ctrl-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">disable_ay_volume_ctrl</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_DISABLE_AY_VOLUME_CTRL</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-fixed_volume">fixed_volume</a>, <a href="CommonInstrumentCommands.html#method-i-fv">fv</a>
        </div>

      </div>

      <div id="method-i-enable_ay_volume_ctrl" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            enable_ay_volume_ctrl
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables the AY-3-891x automatic volume envelope control of the current channel.</p>

          <div class="method-source-code" id="enable_ay_volume_ctrl-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 436</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">enable_ay_volume_ctrl</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_ENABLE_AY_VOLUME_CTRL</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-variable_volume">variable_volume</a>, <a href="CommonInstrumentCommands.html#method-i-vv">vv</a>
        </div>

      </div>

      <div id="method-i-envd" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            envd duration
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-envelope_duration">envelope_duration</a>
        </div>
      </div>

      <div id="method-i-envdur" class="method-detail method-alias">

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-envelope_duration">envelope_duration</a>
        </div>
      </div>

      <div id="method-i-envelope_duration" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            envelope_duration duration
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Sets the AY-3-891x automatic volume envelope duration: 1 to 65535.</p>

          <div class="method-source-code" id="envelope_duration-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">envelope_duration</span>(<span class="ruby-identifier">duration</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">AYEnvelopeDurationCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">duration</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-envdur">envdur</a>, <a href="CommonInstrumentCommands.html#method-i-envd">envd</a>
        </div>

      </div>

      <div id="method-i-envelope_shape" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            envelope_shape shape
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Sets the shape of the AY-3-891x automatic volume envelope: 0 to 15. You may use <a href="../../ZXLib/AYSound/EnvelopeControl.html"><code>ZXLib::AYSound::EnvelopeControl</code></a> constants.</p>

          <div class="method-source-code" id="envelope_shape-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">envelope_shape</span>(<span class="ruby-identifier">shape</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">AYEnvelopeShapeCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">shape</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-envsh">envsh</a>, <a href="CommonInstrumentCommands.html#method-i-envs">envs</a>
        </div>

      </div>

      <div id="method-i-envs" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            envs shape
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-envelope_shape">envelope_shape</a>
        </div>
      </div>

      <div id="method-i-envsh" class="method-detail method-alias">

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-envelope_shape">envelope_shape</a>
        </div>
      </div>

      <div id="method-i-fixed_volume" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            fixed_volume
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-disable_ay_volume_ctrl">disable_ay_volume_ctrl</a>
        </div>
      </div>

      <div id="method-i-fv" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            fv
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-disable_ay_volume_ctrl">disable_ay_volume_ctrl</a>
        </div>
      </div>

      <div id="method-i-loop_to" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            loop_to name, [repeat=nil]
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Loops execution from the marked point <code>name</code>. Repeats <code>repeat</code> times. If <code>repeat</code> is <code>nil</code> or missing loops <em>forever</em>.</p>

<p>See also <a href="CommonInstrumentCommands.html#method-i-mark"><code>CommonInstrumentCommands.mark</code></a> and <a href="CommonInstrumentCommands.html#method-i-repeat"><code>CommonInstrumentCommands.repeat</code></a>.</p>

          <div class="method-source-code" id="loop_to-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">loop_to</span>(<span class="ruby-identifier">mark_name</span>, <span class="ruby-identifier">repeat</span>=<span class="ruby-keyword">nil</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LoopCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">mark_name</span>, <span class="ruby-identifier">repeat</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-lt">lt</a>
        </div>

      </div>

      <div id="method-i-lt" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            lt name, [repeat=nil]
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-loop_to">loop_to</a>
        </div>
      </div>

      <div id="method-i-m" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            m name
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mark">mark</a>
        </div>
      </div>

      <div id="method-i-m1" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            m1
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mode1">mode1</a>
        </div>
      </div>

      <div id="method-i-m2" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            m2
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mode2">mode2</a>
        </div>
      </div>

      <div id="method-i-mark" class="method-detail ">

        <div class="method-description">
          <p>Marks a point in the track and gives it a <code>name</code> as a symbol or a string. You can later use <a href="CommonInstrumentCommands.html#method-i-loop_to"><code>CommonInstrumentCommands.loop_to</code></a> with a marked point name.</p>

          <div class="method-source-code" id="mark-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mark</span>(<span class="ruby-identifier">name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MarkCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-m">m</a>
        </div>

      </div>

      <div id="method-i-mask_ay_volume_envelope" class="method-detail ">

        <div class="method-description">
          <p>Applies a mask defined by <a href="SongCommands.html#method-i-mask"><code>SongCommands.mask</code></a> to the current channel&#39;s envelope bit controlling the AY-3-891x automatic volume envelope. When the current mask bit has value 1: turns on the envelope. When 0: turns it off.</p>

          <div class="method-source-code" id="mask_ay_volume_envelope-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_ay_volume_envelope</span>(<span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MaskCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:volume</span>, <span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-me">me</a>
        </div>

      </div>

      <div id="method-i-mask_ay_volume_envelope_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mask_ay_volume_envelope_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, a mask applied to the current channel&#39;s envelope bit.</p>

          <div class="method-source-code" id="mask_ay_volume_envelope_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_ay_volume_envelope_off</span>
        <span class="ruby-identifier">mask_ay_volume_envelope</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-meo">meo</a>
        </div>

      </div>

      <div id="method-i-mask_noise" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mask_noise
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Applies a mask defined by <a href="SongCommands.html#method-i-mask"><code>SongCommands.mask</code></a> to the current channel&#39;s mixer controlling the noise output. When the current mask bit has value 1: turns off the noise. When 0: turns it on.</p>

          <div class="method-source-code" id="mask_noise-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_noise</span>(<span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MaskCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:noise</span>, <span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-mn">mn</a>
        </div>

      </div>

      <div id="method-i-mask_noise_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mask_noise_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, a mask applied to the current channel&#39;s mixer controlling the noise output.</p>

          <div class="method-source-code" id="mask_noise_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_noise_off</span>
        <span class="ruby-identifier">mask_noise</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-mno">mno</a>
        </div>

      </div>

      <div id="method-i-mask_tone" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mask_tone
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Applies a mask defined by <a href="SongCommands.html#method-i-mask"><code>SongCommands.mask</code></a> to the current channel&#39;s mixer controlling the tone output. When the current mask bit has value 1: turns off the tone. When 0: turns it on.</p>

          <div class="method-source-code" id="mask_tone-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 287</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_tone</span>(<span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MaskCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:tone</span>, <span class="ruby-identifier">mask_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-mt">mt</a>
        </div>

      </div>

      <div id="method-i-mask_tone_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mask_tone_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, a mask applied to the current channel&#39;s mixer controlling the tone output.</p>

          <div class="method-source-code" id="mask_tone_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mask_tone_off</span>
        <span class="ruby-identifier">mask_tone</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-mto">mto</a>
        </div>

      </div>

      <div id="method-i-me" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            me
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_ay_volume_envelope">mask_ay_volume_envelope</a>
        </div>
      </div>

      <div id="method-i-meo" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            meo
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_ay_volume_envelope_off">mask_ay_volume_envelope_off</a>
        </div>
      </div>

      <div id="method-i-mn" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            mn
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_noise">mask_noise</a>
        </div>
      </div>

      <div id="method-i-mno" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            mno
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_noise_off">mask_noise_off</a>
        </div>
      </div>

      <div id="method-i-mode1" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mode1
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Switches to play mode 1. This is the default mode. In this mode after playing a note the instrument track, if set, starts executing from the beginning.</p>

<p>See also <a href="CommonInstrumentCommands.html#method-i-mode2"><code>CommonInstrumentCommands.mode2</code></a> and <a href="TrackCommands.html#method-i-set_instrument"><code>TrackCommands.set_instrument</code></a>.</p>

          <div class="method-source-code" id="mode1-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mode1</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_PLAY_MODE_1</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-m1">m1</a>
        </div>

      </div>

      <div id="method-i-mode2" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            mode2
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Switches to play mode 2. In this mode after playing a note the instrument track, if set, continues executing uninterrupted.</p>

<p>See also <a href="CommonInstrumentCommands.html#method-i-mode1"><code>CommonInstrumentCommands.mode1</code></a> and <a href="TrackCommands.html#method-i-set_instrument"><code>TrackCommands.set_instrument</code></a>.</p>

          <div class="method-source-code" id="mode2-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mode2</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_PLAY_MODE_2</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-m2">m2</a>
        </div>

      </div>

      <div id="method-i-mt" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            mt
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_tone">mask_tone</a>
        </div>
      </div>

      <div id="method-i-mto" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            mto
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-mask_tone_off">mask_tone_off</a>
        </div>
      </div>

      <div id="method-i-n" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            n pitch_level
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-noise">noise</a>
        </div>
      </div>

      <div id="method-i-n0" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            n0
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-noise_off">noise_off</a>
        </div>
      </div>

      <div id="method-i-n1" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            n1
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-noise_on">noise_on</a>
        </div>
      </div>

      <div id="method-i-ne" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            ne name
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-start_noise_envelope">start_noise_envelope</a>
        </div>
      </div>

      <div id="method-i-neo" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            neo
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-noise_envelope_off">noise_envelope_off</a>
        </div>
      </div>

      <div id="method-i-noise" class="method-detail ">

        <div class="method-description">
          <p>Sets noise pitch level: 0 to 31.</p>

          <div class="method-source-code" id="noise-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">noise</span>(<span class="ruby-identifier">level</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">NoisePitchCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">level</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-n">n</a>
        </div>

      </div>

      <div id="method-i-noise_envelope_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            noise_envelope_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, an envelope applied to the noise pitch level.</p>

          <div class="method-source-code" id="noise_envelope_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">noise_envelope_off</span>
        <span class="ruby-identifier">start_noise_envelope</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-neo">neo</a>
        </div>

      </div>

      <div id="method-i-noise_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            noise_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off the current channel&#39;s noise output.</p>

          <div class="method-source-code" id="noise_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">noise_off</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_DISABLE_NOISE</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-n0">n0</a>
        </div>

      </div>

      <div id="method-i-noise_on" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            noise_on
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns on the current channel&#39;s noise output.</p>

          <div class="method-source-code" id="noise_on-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">noise_on</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_ENABLE_NOISE</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-n1">n1</a>
        </div>

      </div>

      <div id="method-i-note_progress" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            note_progress period
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables the smooth tone frequency progression of the notes played on the current channel.</p>
<dl class="rdoc-list note-list"><dt><code>period</code>
<dd>
<p>A number of ticks after which the tone reaches the next played note&#39;s frequency.</p>
</dd></dl>

<p>If the <code>period</code> is 0, the tracking of the frequency of the played notes is being disabled. To turn on the frequency progression first set <code>period</code> to 1, play at least one note and then set the desired progression period for the following notes being played.</p>

          <div class="method-source-code" id="note_progress-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">note_progress</span>(<span class="ruby-identifier">period</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">NoteProgressPeriodCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">period</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-np">np</a>
        </div>

      </div>

      <div id="method-i-np" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            np period
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-note_progress">note_progress</a>
        </div>
      </div>

      <div id="method-i-p" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            p length, *additional_lengths
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-pause">pause</a>
        </div>
      </div>

      <div id="method-i-pause" class="method-detail ">

        <div class="method-description">
          <p>Pauses the current track execution for a <code>length</code> period. The <code>length</code> value should be a positive integer.</p>

<p>The number of <code>ticks</code> paused is being calculated based on the <a href="TrackConfigCommands.html#method-i-tempo"><code>TrackConfigCommands.tempo</code></a> value.</p>

<pre class="ruby"><span class="ruby-identifier">ticks</span> = <span class="ruby-identifier">tempo</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">length</span>
</pre>

<p>For the tempo unrelated pause see <a href="CommonInstrumentCommands.html#method-i-wait"><code>CommonInstrumentCommands.wait</code></a>.</p>

<p>In the music theory the length of:</p>
<ul><li>
<p>1 means Semibreve or Whole note.</p>
</li><li>
<p>2 means Minim or Half note.</p>
</li><li>
<p>4 means Crotchet or Quarter note.</p>
</li><li>
<p>8 means Quaver or Eighth note.</p>
</li><li>
<p>16 means Semiquaver or Sixteenth note.</p>
</li><li>
<p>32 means Demisemiquaver or Thirty-second note.</p>
</li><li>
<p>64 means Hemidemisemiquaver or Sixty-fourth note.</p>
</li></ul>

<p>You may provide as many lengths as additional arguments as necessary. E.g.:</p>

<pre class="ruby"><span class="ruby-identifier">pause</span> <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">4</span> <span class="ruby-comment"># will pause for the whole and half and quarter note.</span>
</pre>

          <div class="method-source-code" id="pause-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pause</span>(<span class="ruby-identifier">length</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">length_exts</span>)
        <span class="ruby-identifier">ticks</span> = <span class="ruby-constant">Rational</span>(<span class="ruby-ivar">@tempo</span>, <span class="ruby-identifier">length</span>)
        <span class="ruby-identifier">length_exts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">len_ext</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ticks</span> <span class="ruby-operator">+=</span> <span class="ruby-constant">Rational</span>(<span class="ruby-ivar">@tempo</span>, <span class="ruby-identifier">len_ext</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">wait</span>(<span class="ruby-identifier">ticks</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-p">p</a>
        </div>

      </div>

      <div id="method-i-repeat" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            repeat [repeat=nil] {|| ... }
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Repeats the execution of the commands in the given block <code>repeat</code> times. If <code>repeat</code> is <code>nil</code> or missing repeats <em>forever</em>.</p>

<p>See also <a href="CommonInstrumentCommands.html#method-i-mark"><code>CommonInstrumentCommands.mark</code></a> and <a href="CommonInstrumentCommands.html#method-i-loop_to"><code>CommonInstrumentCommands.loop_to</code></a>.</p>

          <div class="method-source-code" id="repeat-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">repeat</span>(<span class="ruby-identifier">times</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-value">mark:</span><span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
        <span class="ruby-identifier">mark_cmd</span> = <span class="ruby-constant">MarkCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">mark</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">mark_cmd</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">times</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
                <span class="ruby-keyword">yield</span>
                <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">mark_cmd</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">times</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
                        <span class="ruby-identifier">loop_to</span> <span class="ruby-identifier">mark_cmd</span>.<span class="ruby-identifier">mark_name</span>, <span class="ruby-identifier">times</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-rpt">rpt</a>
        </div>

      </div>

      <div id="method-i-rpt" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            rpt [repeat=nil] {|| ... }
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-repeat">repeat</a>
        </div>
      </div>

      <div id="method-i-start_chord" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            start_chord name
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Applies a chord defined by <a href="SongCommands.html#method-i-chord"><code>SongCommands.chord</code></a> to the currently played note at the current channel.</p>

          <div class="method-source-code" id="start_chord-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_chord</span>(<span class="ruby-identifier">chord_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">ChordCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">chord_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-ce">ce</a>
        </div>

      </div>

      <div id="method-i-start_noise_envelope" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            start_noise_envelope name
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Applies an envelope defined by <a href="SongCommands.html#method-i-envelope"><code>SongCommands.envelope</code></a> to the noise pitch level.</p>

          <div class="method-source-code" id="start_noise_envelope-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_noise_envelope</span>(<span class="ruby-identifier">envelope_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">EnvelopeCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:noise</span>, <span class="ruby-identifier">envelope_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-ne">ne</a>
        </div>

      </div>

      <div id="method-i-start_volume_envelope" class="method-detail ">

        <div class="method-description">
          <p>Applies an envelope defined by <a href="SongCommands.html#method-i-envelope"><code>SongCommands.envelope</code></a> to the volume level at the current channel.</p>

          <div class="method-source-code" id="start_volume_envelope-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_volume_envelope</span>(<span class="ruby-identifier">envelope_name</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">EnvelopeCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:volume</span>, <span class="ruby-identifier">envelope_name</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-ve">ve</a>
        </div>

      </div>

      <div id="method-i-t0" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            t0
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-tone_off">tone_off</a>
        </div>
      </div>

      <div id="method-i-t1" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            t1
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-tone_on">tone_on</a>
        </div>
      </div>

      <div id="method-i-tone_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            tone_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off the current channel&#39;s tone output.</p>

          <div class="method-source-code" id="tone_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 459</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">tone_off</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_DISABLE_TONE</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-t0">t0</a>
        </div>

      </div>

      <div id="method-i-tone_on" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            tone_on
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns on the current channel&#39;s tone output.</p>

          <div class="method-source-code" id="tone_on-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">tone_on</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_ENABLE_TONE</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-t1">t1</a>
        </div>

      </div>

      <div id="method-i-tone_progress" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            tone_progress delta, counter
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables and controls the tone frequency progression of the current channel&#39;s tone.</p>
<dl class="rdoc-list note-list"><dt><code>delta</code>
<dd>
<p>A floating point value representing a number of half-tones to go up or down the frequency scale.</p>
</dd><dt><code>counter</code>
<dd>
<p>An positive integer number indicating how many ticks it takes to reach the desired <code>delta</code> interval.</p>
</dd></dl>

<p>To set the starting frequency first set <code>note_progress 1</code>, play at least one note and then set the desired <code>delta</code> and <code>counter</code> with the <code>tone_progress</code> command.</p>
<dl class="rdoc-list note-list"><dt><em>NOTE</em>
<dd>
<p>This command is an alternative to <a href="CommonInstrumentCommands.html#method-i-note_progress"><code>CommonInstrumentCommands.note_progress</code></a> and as such can&#39;t be used with it at the same time on the same channel: <code>tone_progress</code> sets the <code>note_progress 0</code> under the hood. Any notes being played while this command is in effect will not be heard for the <code>counter</code> ticks. After that the tone frequency will change to the last played note&#39;s.</p>
</dd></dl>

          <div class="method-source-code" id="tone_progress-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 425</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">tone_progress</span>(<span class="ruby-identifier">delta</span>, <span class="ruby-identifier">counter</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">ToneProgressCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">delta</span>, <span class="ruby-identifier">counter</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-tp">tp</a>
        </div>

      </div>

      <div id="method-i-tp" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            tp delta, counter
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-tone_progress">tone_progress</a>
        </div>
      </div>

      <div id="method-i-v" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            v level
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-volume">volume</a>
        </div>
      </div>

      <div id="method-i-va" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            va
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-vibrato_amplitude">vibrato_amplitude</a>
        </div>
      </div>

      <div id="method-i-variable_volume" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            variable_volume
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-enable_ay_volume_ctrl">enable_ay_volume_ctrl</a>
        </div>
      </div>

      <div id="method-i-ve" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            ve name
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-start_volume_envelope">start_volume_envelope</a>
        </div>
      </div>

      <div id="method-i-veo" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            veo
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-volume_envelope_off">volume_envelope_off</a>
        </div>
      </div>

      <div id="method-i-vg" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            vg
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-vibrato_angle">vibrato_angle</a>
        </div>
      </div>

      <div id="method-i-vibrato_amplitude" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            vibrato_amplitude
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables the current channel&#39;s tone vibrato and sets the distortion amplitude.</p>
<dl class="rdoc-list note-list"><dt><code>amplitude</code>
<dd>
<p>A positive floating point value of a tone distortion amplitude. Currently the valid values are in the range from 0 to 1, where 1 corresponds to the single half-tone frequency interval.</p>
</dd></dl>

<p>The distortion level of the tone is calculated from:</p>

<pre class="ruby"><span class="ruby-identifier">amplitude</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sinus</span>(<span class="ruby-constant">PI</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">angle</span> <span class="ruby-operator">/</span> <span class="ruby-value">128.0</span>)
</pre>

<p>See also: <a href="CommonInstrumentCommands.html#method-i-vibrato_step"><code>CommonInstrumentCommands.vibrato_step</code></a> and <a href="CommonInstrumentCommands.html#method-i-vibrato_angle"><code>CommonInstrumentCommands.vibrato_angle</code></a>.</p>

          <div class="method-source-code" id="vibrato_amplitude-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">vibrato_amplitude</span>(<span class="ruby-identifier">amplitude</span>=<span class="ruby-value">1.0</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">VibratoAmplitudeCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">amplitude</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-va">va</a>
        </div>

      </div>

      <div id="method-i-vibrato_angle" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            vibrato_angle
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables the current channel&#39;s tone vibrato and sets the current phase angle.</p>
<dl class="rdoc-list note-list"><dt><code>angle</code>
<dd>
<p>A positive floating point value of a tone distortion angle. The value of 256.0 corresponds to the full phase of the distortion.</p>
</dd></dl>

<p>The distortion level of the tone is calculated from:</p>

<pre class="ruby"><span class="ruby-identifier">amplitude</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sinus</span>(<span class="ruby-constant">PI</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">angle</span> <span class="ruby-operator">/</span> <span class="ruby-value">128.0</span>)
</pre>

<p>See also: <a href="CommonInstrumentCommands.html#method-i-vibrato_step"><code>CommonInstrumentCommands.vibrato_step</code></a> and <a href="CommonInstrumentCommands.html#method-i-vibrato_amplitude"><code>CommonInstrumentCommands.vibrato_amplitude</code></a>.</p>

          <div class="method-source-code" id="vibrato_angle-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 356</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">vibrato_angle</span>(<span class="ruby-identifier">angle</span>=<span class="ruby-value">0.0</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">VibratoAngleCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">angle</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-vg">vg</a>
        </div>

      </div>

      <div id="method-i-vibrato_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            vibrato_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, the current channel&#39;s tone vibrato distortion.</p>

          <div class="method-source-code" id="vibrato_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">vibrato_off</span>
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Command</span><span class="ruby-operator">::</span><span class="ruby-constant">Headers</span><span class="ruby-operator">::</span><span class="ruby-constant">CMD_VIBRATO_OFF</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-vo">vo</a>
        </div>

      </div>

      <div id="method-i-vibrato_step" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            vibrato_step
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Enables the current channel&#39;s tone vibrato and sets the distortion angle progression step.</p>
<dl class="rdoc-list note-list"><dt><code>step</code>
<dd>
<p>A floating point value of a tone distortion angle progression during a single tick. The value of 256.0 corresponds to the full phase of the distortion. The higher the absolute value of the <code>step</code>, the faster vibrato progresses.</p>
</dd></dl>

<p>Assuming the starting angle is 0, if the value of the <code>step</code> is positive the tone frequency ascends first then descends. If it&#39;s negative the tone first descends before ascending.</p>

<p>See also: <a href="CommonInstrumentCommands.html#method-i-vibrato_angle"><code>CommonInstrumentCommands.vibrato_angle</code></a>.</p>

          <div class="method-source-code" id="vibrato_step-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 338</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">vibrato_step</span>(<span class="ruby-identifier">step</span>=<span class="ruby-value">1.0</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">VibratoStepCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">step</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-vs">vs</a>
        </div>

      </div>

      <div id="method-i-vo" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            vo
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-vibrato_off">vibrato_off</a>
        </div>
      </div>

      <div id="method-i-volume" class="method-detail ">

        <div class="method-description">
          <p>Sets volume level for the current channel: 0 to 15.</p>

          <div class="method-source-code" id="volume-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">volume</span>(<span class="ruby-identifier">level</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">VolumeLevelCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">level</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-v">v</a>
        </div>

      </div>

      <div id="method-i-volume_envelope_off" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            volume_envelope_off
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Turns off, if any, an envelope applied to the volume level at the current channel.</p>

          <div class="method-source-code" id="volume_envelope_off-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">volume_envelope_off</span>
        <span class="ruby-identifier">start_volume_envelope</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-veo">veo</a>
        </div>

      </div>

      <div id="method-i-vs" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            vs
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-vibrato_step">vibrato_step</a>
        </div>
      </div>

      <div id="method-i-vv" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            vv
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-enable_ay_volume_ctrl">enable_ay_volume_ctrl</a>
        </div>
      </div>

      <div id="method-i-w" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-callseq">
            w ticks
          </span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="CommonInstrumentCommands.html#method-i-wait">wait</a>
        </div>
      </div>

      <div id="method-i-wait" class="method-detail ">

        <div class="method-description">
          <p>Pauses the current track execution for <code>ticks</code> number of ticks. The <code>ticks</code> value should be a positive integer as an Integer or a Rational.</p>

<p>For the <a href="TrackConfigCommands.html#method-i-tempo"><code>TrackConfigCommands.tempo</code></a> related pause see <a href="CommonInstrumentCommands.html#method-i-pause"><code>CommonInstrumentCommands.pause</code></a>.</p>

          <div class="method-source-code" id="wait-source">
            <pre><span class="ruby-comment"># File lib/zxutils/music_box/track.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">wait</span>(<span class="ruby-identifier">ticks</span>)
        <span class="ruby-ivar">@commands</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PauseCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ticks</span>)
        <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="CommonInstrumentCommands.html#method-i-w">w</a>
        </div>

      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

